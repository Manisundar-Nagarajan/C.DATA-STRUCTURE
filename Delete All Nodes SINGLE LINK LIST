#include<stdio.h>
#include<stdlib.h>
struct st
{
    int roll;
    char name[20];
    float mark;
    struct st *next;
};

void add_begin(struct st**);
void print(struct st*);
void delete_all(struct st**);

int main()
{
    struct st *hptr=0;
    char op;
    do{
        add_begin(&hptr);
        printf("Do you want to add another student details (y/n)");
        scanf(" %c", &op);
    }while(op=='y');
    delete_all(&hptr);
    print(hptr);
}

void add_begin(struct st **ptr)
{
    struct st *temp;
    temp=(struct st *)malloc(sizeof(struct st));
    printf("Enter the data:\n");
    scanf("%d %s %f",&temp->roll,temp->name,&temp->mark);
    temp->next=*ptr;
    *ptr=temp;
}

void print(struct st *ptr)
{
    printf("Printing the data\n");
    while(ptr!=0)
    {
        printf("%d %s %f\n", ptr->roll, ptr->name, ptr->mark);
        ptr=ptr->next;
    }
}

void delete_all(struct st **ptr)
{
    struct st *temp;
    while(*ptr!=0)
    {
        temp=*ptr;
        *ptr=temp->next;
        free(temp);
    }
}
